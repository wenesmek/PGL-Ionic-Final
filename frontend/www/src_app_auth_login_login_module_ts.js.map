{"version":3,"file":"src_app_auth_login_login_module_ts.js","mappings":";;;;;;;;;;;;;;;;;;AAAyC;AACc;AAEd;AAEzC,MAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,kDAAS;KACrB;CACF,CAAC;IAMW,sBAAsB,SAAtB,sBAAsB;;AAAtB,sBAAsB;IAJlC,uDAAQ,CAAC;QACR,OAAO,EAAE,CAAC,kEAAqB,CAAC,MAAM,CAAC,CAAC;QACxC,OAAO,EAAE,CAAC,yDAAY,CAAC;KACxB,CAAC;GACW,sBAAsB;AAAA;;;;;;;;;;;;;;;;;;;;;;;AChBM;AACM;AACF;AAEA;AAEmB;AAEvB;IAW5B,eAAe,SAAf,eAAe;;AAAf,eAAe;IAT3B,uDAAQ,CAAC;QACR,OAAO,EAAE;YACP,yDAAY;YACZ,uDAAW;YACX,uDAAW;YACX,yEAAsB;SACvB;QACD,YAAY,EAAE,CAAC,kDAAS,CAAC;KAC1B,CAAC;GACW,eAAe;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;ACnB5B;AACA;AACA;AAEA;IAQaI,SAAS,SAATA,SAAS;EAEpBC,YACUC,MADV,EAEUC,WAFV,EAGUC,eAHV,EAG0C;IAFhC;IACA;IACA;EAAqC;;EAE/CC,QAAQ,IACP;;EAEDC,KAAK,CAACC,IAAD,EAAK;IACR,MAAMC,IAAI,GAAS;MACjBC,EAAE,EAAE,IADa;MAEjBC,QAAQ,EAAEH,IAAI,CAACI,KAAL,CAAWC,KAFJ;MAGjBC,QAAQ,EAAEN,IAAI,CAACI,KAAL,CAAWE,QAHJ;MAIjBC,IAAI,EAAE,IAJW;MAKjBC,OAAO,EAAE;IALQ,CAAnB;IAOA,KAAKZ,WAAL,CAAiBG,KAAjB,CAAuBE,IAAvB,EAA6BQ,SAA7B,CAAwCC,GAAD,IAAO;MAC5C,IAAG,CAACA,GAAG,CAACC,YAAR,EAAsB;QACpB,KAAKC,YAAL,CAAkB,qBAAlB;QACA;MACD;;MACD,KAAKjB,MAAL,CAAYkB,aAAZ,CAA0B,oBAA1B;MACAb,IAAI,CAACc,KAAL;IACD,CAPD,EAOGC,GAAG,IAAG;MACP,KAAKH,YAAL,CAAkB,OAAlB;IACD,CATD;EAUD;;EAEKA,YAAY,CAACI,OAAD,EAAgB;IAAA;;IAAA;MAChC,MAAMC,KAAK,SAAS,KAAI,CAACpB,eAAL,CAAqBqB,MAArB,CAA4B;QAC9CC,QAAQ,EAAE,iBADoC;QAE9CC,MAAM,EAAE,OAFsC;QAG9CC,SAAS,EAAEL,OAHmC;QAI9CA,OAAO,EAAE,6BAJqC;QAK9CM,OAAO,EAAE,CAAC,IAAD;MALqC,CAA5B,CAApB;MAQA,MAAML,KAAK,CAACM,OAAN,EAAN;IATgC;EAUjC;;AAxCmB;;;;;;;;;;AAAT9B,SAAS,sDALrBJ,wDAAS,CAAC;EACTmC,QAAQ,EAAE,WADD;EAETC,UAAAA,wDAFS;;AAAA,CAAD,CAKY,GAAThC,SAAS,CAAT","sources":["./src/app/auth/login/login-routing.module.ts","./src/app/auth/login/login.module.ts","./src/app/auth/login/login.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { LoginPage } from './login.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: LoginPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class LoginPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { LoginPageRoutingModule } from './login-routing.module';\n\nimport { LoginPage } from './login.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    LoginPageRoutingModule\n  ],\n  declarations: [LoginPage]\n})\nexport class LoginPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { AlertController } from '@ionic/angular';\nimport { YouAreLoggedInPageRoutingModule } from 'src/app/you-are-logged-in/you-are-logged-in-routing.module';\nimport { AuthService } from '../auth.service';\nimport { User } from '../user';\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.page.html',\n  styleUrls: ['./login.page.scss'],\n})\nexport class LoginPage implements OnInit {\n\n  constructor(\n    private router: Router,\n    private authService: AuthService,\n    private alertController: AlertController) { }\n\n  ngOnInit() {\n  }\n\n  login(form){\n    const user: User = {\n      id: null,\n      username: form.value.email,\n      password: form.value.password,\n      name: null,\n      isAdmin: null\n    };\n    this.authService.login(user).subscribe((res)=>{\n      if(!res.access_token) {\n        this.presentAlert('invalid credentials');\n        return;\n      }\n      this.router.navigateByUrl('/you-are-logged-in');\n      form.reset();\n    }, err => {\n      this.presentAlert('Error');\n    });\n  }\n\n  async presentAlert(message: string) {\n    const alert = await this.alertController.create({\n      cssClass: 'my-custom-class',\n      header: 'Error',\n      subHeader: message,\n      message: 'Could not login. Try again.',\n      buttons: ['OK']\n    });\n\n    await alert.present();\n  }\n}\n"],"names":["Component","Router","AlertController","AuthService","LoginPage","constructor","router","authService","alertController","ngOnInit","login","form","user","id","username","value","email","password","name","isAdmin","subscribe","res","access_token","presentAlert","navigateByUrl","reset","err","message","alert","create","cssClass","header","subHeader","buttons","present","selector","template"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}